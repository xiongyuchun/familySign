require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/sub-packages-user/my/change-user/index"],{"22ca":function(e,t,n){"use strict";(function(e){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("9523"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a={data:function(){return{webUrl:"",sign_status:1,sign_list:[],sign_current:0,handle_sign_current:0,msgType:"info",type:"",addUserSearch:""}},onLoad:function(e){this.webUrl=this.$C.webUrl,this.type=e.type,"bind"===e.type&&this.addUser(),this.getUserBindList()},methods:{getUserInfo:function(){var e=this;this.$H.get("/api/APP/WXUser/GetUserInfo").then((function(t){t.Data&&e.$store.dispatch("user/setUserInfo",t.Data)})).catch((function(e){console.log("err:",e)}))},directBind:function(){this.$U.dateUtils.isEmpty(this.addUserSearch)?this.$U.checkTip("请输入搜索的身份证号！"):this.$H.post("/api/APP/WXUser/CreateUserRelation",{IdCard:this.addUserSearch}).then((function(e){}))},addUser:function(){this.$refs.popup.open("bottom")},dialogConfirm:function(){this.delUser(this.sign_list[this.handle_sign_current])},dialogToggle:function(e){this.msgType=e,this.$refs.alertDialog.open()},dialogClose:function(){},btnDel:function(e){this.handle_sign_current=e,this.delUser(this.sign_list[this.handle_sign_current])},handleLongPress:function(e){this.handle_sign_current=e,this.dialogToggle("info")},changeList:function(e,t){this.sign_current!==t&&(this.sign_current=t,this.sign_list=this.sign_list.map((function(e){return o(o({},e),{},{active:!1})})),this.sign_list[t].active=!0,this.changeUser(e))},getUserBindList:function(){var e=this;this.$H.get("/api/APP/WXUser/GetBindUserList").then((function(t){if(200===t.Code){var n=t.Data&&t.Data.map((function(e,t){return o(o({},e),{},{active:0===t})}));e.sign_list=n}}))},changeUser:function(e){var t=this;this.$H.post("/api/APP/WXUser/ChangeBindUser",{UserId:e.UserId},{},{show:!0}).then((function(e){200===e.Code&&t.getUserInfo()}))},delUser:function(t){var n=this;this.$H.post("/api/APP/WXUser/RemoveUserRelation",{UserId:t.UserId},{},{show:!0}).then((function(t){200===t.Code&&(e.showToast({title:t.Message,icon:"none"}),n.getUserBindList())}))}}};t.default=a}).call(this,n("543d")["default"])},"2d33":function(e,t,n){"use strict";n.r(t);var i=n("f2d8"),r=n("dbeb");for(var s in r)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(s);n("3525"),n("302f");var o=n("f0c5"),a=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"65ee538b",null,!1,i["a"],void 0);t["default"]=a.exports},"302f":function(e,t,n){"use strict";var i=n("6020"),r=n.n(i);r.a},3525:function(e,t,n){"use strict";var i=n("5dd9"),r=n.n(i);r.a},"5dd9":function(e,t,n){},6020:function(e,t,n){},b693:function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("823a"),n("4a2a");i(n("66fd"));var r=i(n("2d33"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},dbeb:function(e,t,n){"use strict";n.r(t);var i=n("22ca"),r=n.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);t["default"]=r.a},f2d8:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var i={uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,"c3e1"))},uniPopupDialog:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog")]).then(n.bind(null,"5f06"))}},r=function(){var e=this,t=e.$createElement,i=(e._self._c,e.__map(e.sign_list,(function(t,i){var r=e.__get_orig(t),s=t.active?n("172e"):null,o=t.active?null:n("edb9");return{$orig:r,m0:s,m1:o}}))),r=n("0260");e._isMounted||(e.e0=function(t){return e.$U.gotoPage("/pages/sub-packages-user/my/upload-info/index")}),e.$mp.data=Object.assign({},{$root:{l0:i,m2:r}})},s=[]}},[["b693","common/runtime","common/vendor","pages/sub-packages-user/common/vendor"]]]);