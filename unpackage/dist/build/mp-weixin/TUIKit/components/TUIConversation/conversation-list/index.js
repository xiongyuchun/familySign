require('../../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["TUIKit/components/TUIConversation/conversation-list/index"],{"1d23":function(e,t,n){"use strict";(function(e){var o=n("4ea4"),r=n("7037");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("278c")),a=o(n("448a")),u=n("2ab0"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var u=i?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(o,a,u):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n("a6ed")),c=o(n("4218")),l=n("d31c"),f=n("8e85");function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var d={setup:function(t,n){var o=n.emit,r=(0,u.ref)(),v=(0,u.ref)(),d=(0,u.ref)(),p=(0,u.ref)(!1),g=(0,u.ref)([]),b=(0,u.ref)(),h=(0,u.ref)({top:0}),O=(0,u.ref)(!1),m=(0,u.ref)(),C=null;s.TUIStore.watch(s.StoreName.CONV,{currentConversationID:function(e){v.value=e},conversationList:function(e){0===e.length?null===f.TUIGlobal||void 0===f.TUIGlobal||f.TUIGlobal.navigateTo({url:"/pages/sub-packages-user/my/doctor-introduction/index"}):g.value=e},currentConversation:function(e){r.value=e}}),s.TUIStore.watch(s.StoreName.USER,{displayOnlineStatus:function(e){O.value=e},userStatusList:function(e){0!==e.size&&(m.value=(0,a.default)(e.entries()).reduce((function(e,t){var n=(0,i.default)(t,2),o=n[0],r=n[1];return e[o]=r,e}),{}))}});var S=function(){C&&Date.now()-C>300&&(r.value=void 0,p.value=!1)},I=function(t,n,r){if(l.isUniFrameWork){"undefined"===typeof b.value&&o("getPassingRef",b);var i=e.createSelectorQuery().in(b.value);i.select("#convlistitem-".concat(n)).boundingClientRect((function(e){e&&(h.value={top:e.bottom+(l.isH5?44:0),left:t.touches[0].pageX,conversationHeight:e.height},p.value=!0)})).exec()}else{var a,u=null===(a=t.currentTarget)||void 0===a?void 0:a.getBoundingClientRect();u&&(h.value={top:u.bottom,left:l.isPC?t.clientX:void 0,conversationHeight:u.height}),p.value=!0}};return Object.assign({muteIcon:c.default,isPC:l.isPC,currentConversation:r,currentConversationID:v,currentConversationDomRect:d,isShowOverlay:p,conversationList:g,actionsMenuPosition:h,userOnlineStatusMap:m,isShowUserOnlineStatus:function(e){return O.value&&e.type===s.default.TYPES.CONV_C2C},showConversationActionMenu:function(e,t,n,o){o&&l.isUniFrameWork||(r.value=t,C=Date.now(),I(e,n))},closeConversationActionMenu:S,enterConversationChat:function(e){o("handleSwitchConversation",e),s.TUIConversationService.switchConversation(e)}},{closeChildren:S})}};d.components=Object.assign({ActionsMenu:function(){n.e("TUIKit/components/TUIConversation/actions-menu/index").then(function(){return resolve(n("b568"))}.bind(null,n)).catch(n.oe)},Icon:function(){n.e("TUIKit/components/common/Icon").then(function(){return resolve(n("b42b"))}.bind(null,n)).catch(n.oe)}},d.components);var p=d;t.default=p}).call(this,n("543d")["default"])},ebb7:function(e,t,n){"use strict";n.r(t);var o=n("1d23"),r=n.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=r.a},ee36:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var o=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.conversationList,(function(t,n){var o=e.__get_orig(t),r=t.getAvatar(),i=e.userOnlineStatusMap&&e.isShowUserOnlineStatus(t),a=i?Object.keys(e.userOnlineStatusMap).length>0&&Object.keys(e.userOnlineStatusMap).includes(t.userProfile.userID)&&1===e.userOnlineStatusMap[t.userProfile.userID].statusType:null,u=t.getShowName(),s="GROUP"===t.type&&t.groupAtInfoList&&t.groupAtInfoList.length>0,c=s?t.getGroupAtInfo():null,l=t.getLastMessage("text"),f=t.getLastMessage("time");return{$orig:o,g0:r,m0:i,g1:a,g2:u,g3:s,g4:c,g5:l,g6:f}})));e.$mp.data=Object.assign({},{$root:{l0:n}})},r=[]},fe1d:function(e,t,n){"use strict";n.r(t);var o=n("ee36"),r=n("ebb7");for(var i in r)["default"].indexOf(i)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n("9cfa");var a=n("f0c5"),u=Object(a["a"])(r["default"],o["b"],o["c"],!1,null,"730d431c",null,!1,o["a"],void 0);t["default"]=u.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'TUIKit/components/TUIConversation/conversation-list/index-create-component',
    {
        'TUIKit/components/TUIConversation/conversation-list/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("fe1d"))
        })
    },
    [['TUIKit/components/TUIConversation/conversation-list/index-create-component']]
]);
