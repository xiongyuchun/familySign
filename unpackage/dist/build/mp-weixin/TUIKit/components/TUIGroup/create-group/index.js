require('../../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["TUIKit/components/TUIGroup/create-group/index"],{5105:function(e,t,r){"use strict";r.r(t);var n=r("ede9"),o=r("b3f7");for(var i in o)["default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(i);r("3643");var u=r("f0c5"),a=Object(u["a"])(o["default"],n["b"],n["c"],!1,null,"e31def72",null,!1,n["a"],void 0);t["default"]=a.exports},"7b47":function(e,t,r){"use strict";var n=r("4ea4"),o=r("7037");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2eee")),u=n(r("c973")),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=i?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(n,u,a):n[u]=e[u]}n.default=e,r&&r.set(e,n);return n}(r("a6ed")),c=r("2ab0"),p=n(r("5e3b")),l=r("d31c"),f=n(r("7ff4")),s=n(r("3379")),d=n(r("1515")),g=r("5e5c"),T=r("9c83"),I=n(r("b4fc"));function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}var m={setup:function(e,t){var r=I.default.getInstance(),n=r.constants,o=(0,c.reactive)({profile:{groupID:"",name:"",type:g.groupIntroConfig[0].type,avatar:g.groupIntroConfig[0].icon,introduction:"",notification:"",memberList:[],isSupportTopic:!1},groupConfig:{title:"",value:"",key:"",type:"",placeholder:""},isEdit:!1});(0,c.watchEffect)((function(){var e=r.getOnCallParams(n.TUIGroup.SERVICE.METHOD.CREATE_GROUP);o.profile.memberList=e.memberList,o.groupConfig.title=e.title}));var v=(0,c.computed)((function(){return(0,g.findGroupIntroConfig)(o.profile.type)})),m=(0,c.computed)((function(){var e="添加群聊";return o.isEdit&&(e=o.groupConfig.title),a.TUITranslateService.t("TUIGroup.".concat(e))})),U=(0,c.computed)((function(){var e={name:a.TUITranslateService.t("TUIGroup.群名称"),key:"name",placeholder:a.TUITranslateService.t("TUIGroup.请输入群名称")},t={name:"".concat(a.TUITranslateService.t("TUIGroup.群ID"),"(").concat(a.TUITranslateService.t("TUIGroup.选填"),")"),key:"groupID",placeholder:a.TUITranslateService.t("TUIGroup.请输入群ID")};return o.profile.type===a.default.TYPES.GRP_COMMUNITY?[e]:[e,t]})),b=(0,c.computed)((function(){return""===o.profile.name&&!o.isEdit})),C=function(){var e=(0,u.default)(i.default.mark((function e(t){var r,n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.memberList=t.memberList.map((function(e){return{userID:e.userID}})),t.type===a.default.TYPES.GRP_COMMUNITY&&delete t.groupID,e.next=5,a.TUIGroupService.createGroup(t);case 5:if(r=e.sent,n=r.data.group.type,n!==a.default.TYPES.GRP_AVCHATROOM){e.next=10;break}return e.next=10,a.TUIGroupService.joinGroup({groupID:r.data.group.groupID,applyMessage:""});case 10:E(r.data.group),(0,T.Toast)({message:a.TUITranslateService.t("TUIGroup.群组创建成功"),type:T.TOAST_TYPE.SUCCESS}),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),(0,T.Toast)({message:e.t0.message,type:T.TOAST_TYPE.ERROR});case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){a.TUIStore.update(a.StoreName.GRP,"isShowCreateComponent",!1);var t=r.getOnCallCallback(n.TUIGroup.SERVICE.METHOD.CREATE_GROUP);t&&t(e)};return{TUITranslateService:a.TUITranslateService,documentLink:p.default,isPC:l.isPC,backIcon:f.default,closeIcon:s.default,rightIcon:d.default,groupInfo:o,groupTypeDetail:v,headerTitle:m,createInfo:U,submitDisabledStatus:b,selected:function(e){o.profile.type!==e&&(o.profile.type=e,o.profile.avatar=(0,g.findGroupIntroConfig)(e).icon,o.isEdit&&(o.groupConfig.value=e))},submit:function(){var e=o.profile;if(o.isEdit)return o.profile[o.groupConfig.key]=o.groupConfig.value,o.isEdit=!o.isEdit;C(e)},closeCreated:function(){if(o.isEdit)return o.isEdit=!o.isEdit;E(null)},edit:function(e){switch(o.isEdit=!o.isEdit,o.groupConfig.key=e,o.groupConfig.value=o.profile[e],e){case"name":o.groupConfig.title="设置群名称",o.groupConfig.placeholder="请输入群名称",o.groupConfig.type="input";break;case"groupID":o.groupConfig.title="设置群ID",o.groupConfig.placeholder="请输入群ID",o.groupConfig.type="input";break;case"type":o.groupConfig.title="选择群类型",o.groupConfig.type="select";break}}}}};m.components=Object.assign({Dialog:function(){Promise.all([r.e("TUIKit/common/vendor"),r.e("TUIKit/components/common/Dialog/index")]).then(function(){return resolve(r("f0db"))}.bind(null,r)).catch(r.oe)},Icon:function(){r.e("TUIKit/components/common/Icon").then(function(){return resolve(r("b42b"))}.bind(null,r)).catch(r.oe)},Avatar:function(){r.e("TUIKit/components/common/Avatar/index").then(function(){return resolve(r("215d"))}.bind(null,r)).catch(r.oe)},GroupIntroduction:function(){Promise.all([r.e("TUIKit/common/vendor"),r.e("TUIKit/components/TUIGroup/create-group/group-introduction/index")]).then(function(){return resolve(r("bafe"))}.bind(null,r)).catch(r.oe)}},m.components);var U=m;t.default=U},b3f7:function(e,t,r){"use strict";r.r(t);var n=r("7b47"),o=r.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},ede9:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,r=(e._self._c,e.groupInfo.isEdit?null:e.TUITranslateService.t("TUIGroup.群头像")),n=e.groupInfo.isEdit?null:e.TUITranslateService.t("TUIGroup.群类型"),o=e.groupInfo.isEdit||e.isPC?null:e.TUITranslateService.t("TUIGroup."+e.groupTypeDetail.src),i=e.groupInfo.isEdit&&"input"===e.groupInfo.groupConfig.type?e.TUITranslateService.t("TUIGroup."+e.groupInfo.groupConfig.placeholder):null,u=e.isPC&&!e.groupInfo.isEdit?e.TUITranslateService.t("TUIGroup.取消"):null,a=e.TUITranslateService.t("TUIGroup.确认");e.$mp.data=Object.assign({},{$root:{g0:r,g1:n,g2:o,g3:i,g4:u,g5:a}})},o=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'TUIKit/components/TUIGroup/create-group/index-create-component',
    {
        'TUIKit/components/TUIGroup/create-group/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("5105"))
        })
    },
    [['TUIKit/components/TUIGroup/create-group/index-create-component']]
]);
