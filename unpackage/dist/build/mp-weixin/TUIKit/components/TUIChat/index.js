require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["TUIKit/components/TUIChat/index"],{"0443":function(e,n,t){"use strict";t.r(n);var o=t("0479"),r=t("f56e");for(var a in r)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return r[e]}))}(a);t("a493");var i=t("f0c5"),u=Object(i["a"])(r["default"],o["b"],o["c"],!1,null,"1e7694b5",null,!1,o["a"],void 0);n["default"]=u.exports},"0479":function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return r})),t.d(n,"a",(function(){}));var o=function(){var e=this.$createElement,n=(this._self._c,this.currentConversationID?this.TUITranslateService.t("TUIChat.您已被管理员禁言"):null),t=this.currentConversationID?this.TUITranslateService.t("TUIChat.请输入消息"):null;this.$mp.data=Object.assign({},{$root:{g0:n,g1:t}})},r=[]},"130f":function(e,n,t){"use strict";var o=t("4ea4"),r=t("7037");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=v(t("a6ed")),i=v(t("e16a")),u=t("2ab0"),l=t("d31c"),c=o(t("0f88"));function s(e){if("function"!==typeof WeakMap)return null;var n=new WeakMap,t=new WeakMap;return(s=function(e){return e?t:n})(e)}function v(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s(n);if(t&&t.has(e))return t.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}return o.default=e,t&&t.set(e,o),o}var f={setup:function(e,n){var t=n.emit,o=(0,u.ref)(!l.isUniFrameWork),r=(0,u.ref)(),s=(0,u.ref)(),v=(0,u.ref)(!1),f=(0,u.ref)(""),d=(0,u.ref)(void 0);a.TUIStore.watch(a.StoreName.CONV,{currentConversation:function(e){var n,t;if(s.value!==(null===e||void 0===e?void 0:e.conversationID)){if(c.default.setChatType(null===e||void 0===e?void 0:e.type),i.default.callService({serviceName:i.TUIConstants.TUICustomerServicePlugin.SERVICE.NAME,method:i.TUIConstants.TUICustomerServicePlugin.SERVICE.METHOD.ACTIVE_CONVERSATION,params:{conversationID:null===e||void 0===e?void 0:e.conversationID}}),s.value=null===e||void 0===e?void 0:e.conversationID,v.value=(null===e||void 0===e?void 0:e.type)===a.default.TYPES.CONV_GROUP,l.isUniFrameWork&&v.value&&f.value!==(null===e||void 0===e||null===(n=e.groupProfile)||void 0===n?void 0:n.groupID)){var o=i.default.getExtensionList(i.TUIConstants.TUIChat.EXTENSION.CHAT_HEADER.EXT_ID,{filterManageGroup:!v.value});d.value=o[0]}l.isUniFrameWork&&!v.value&&(d.value=[]),f.value=null===e||void 0===e||null===(t=e.groupProfile)||void 0===t?void 0:t.groupID}}}),(0,u.onUnmounted)((function(){p()}));var p=function(){a.TUIConversationService.switchConversation()};return{TUITranslateService:a.TUITranslateService,isPC:l.isPC,isWeChat:l.isWeChat,isUniFrameWork:l.isUniFrameWork,isToolbarShow:o,messageInputRef:r,currentConversationID:s,isGroup:v,groupID:f,groupManageExt:d,closeChat:function(e){t("closeChat",e),p()},insertEmoji:function(e){var n;null===r||void 0===r||null===(n=r.value)||void 0===n||n.insertEmoji(e)},handleToolbarListShow:function(e){l.isUniFrameWork?o.value=void 0===e?!o.value:e:o.value=!0},handleEditor:function(e,n){var t;if(e&&n)switch(n){case"reference":break;case"reply":break;case"reedit":var o,a;if(null!==e&&void 0!==e&&null!==(t=e.payload)&&void 0!==t&&t.text)null===r||void 0===r||null===(o=r.value)||void 0===o||o.reEdit(null===e||void 0===e||null===(a=e.payload)||void 0===a?void 0:a.text);break;default:break}},handleGroup:function(){d.value.listener.onClicked({groupID:f.value})}}}};f.components=Object.assign({ChatHeader:function(){Promise.all([t.e("common/vendor"),t.e("TUIKit/components/TUIChat/chat-header/index")]).then(function(){return resolve(t("59ca"))}.bind(null,t)).catch(t.oe)},Forward:function(){Promise.all([t.e("TUIKit/common/vendor"),t.e("TUIKit/components/TUIChat/forward/index")]).then(function(){return resolve(t("8492"))}.bind(null,t)).catch(t.oe)},MessageList:function(){Promise.all([t.e("TUIKit/common/vendor"),t.e("TUIKit/components/TUIChat/message-list/index")]).then(function(){return resolve(t("309f"))}.bind(null,t)).catch(t.oe)},MessageInputToolbar:function(){Promise.all([t.e("common/vendor"),t.e("TUIKit/components/TUIChat/message-input-toolbar/index")]).then(function(){return resolve(t("9aff"))}.bind(null,t)).catch(t.oe)},MessageInput:function(){Promise.all([t.e("common/vendor"),t.e("TUIKit/common/vendor"),t.e("TUIKit/components/TUIChat/message-input/index")]).then(function(){return resolve(t("4e72"))}.bind(null,t)).catch(t.oe)}},f.components);var d=f;n.default=d},f56e:function(e,n,t){"use strict";t.r(n);var o=t("130f"),r=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=r.a},fce1:function(e,n,t){"use strict";(function(e,n){var o=t("4ea4");t("823a"),t("4a2a");o(t("66fd"));var r=o(t("0443"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(r.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])}},[["fce1","common/runtime","common/vendor"]]]);