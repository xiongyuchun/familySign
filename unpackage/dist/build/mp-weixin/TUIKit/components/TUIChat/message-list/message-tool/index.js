require('../../../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["TUIKit/components/TUIChat/message-list/message-tool/index"],{"093c":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.isAllActionItemInvalid||e.messageItem.hasRiskContent?null:e.__map(e.actionItems,(function(t,n){var a=e.__get_orig(t),r=t.renderCondition();return{$orig:a,g0:r}})));e.$mp.data=Object.assign({},{$root:{l0:n}})},r=[]},"334e":function(e,t,n){"use strict";var a=n("afe7"),r=n.n(a);r.a},"4ade":function(e,t,n){"use strict";var a=n("4ea4"),r=n("7037");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("a6ed")),i=n("2ab0"),u=n("d31c"),l=n("8e85"),c=n("9c83"),s=a(n("d428")),v=a(n("9092")),d=a(n("37c2")),f=a(n("0dfc")),I=a(n("ed00")),p=n("1e3e");function T(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}var g={};g.props={messageItem:{type:Object,default:function(){return{}}},isShowTool:{type:Boolean,default:!1}},g.setup=function(e,t){var n=e,a=o.default.TYPES,r=[{text:o.TUITranslateService.t("TUIChat.打开"),iconUrl:v.default,renderCondition:function(){var e,t,n;return!!T.value&&(u.isPC&&((null===(e=T.value)||void 0===e?void 0:e.type)===a.MSG_FILE||(null===(t=T.value)||void 0===t?void 0:t.type)===a.MSG_VIDEO||(null===(n=T.value)||void 0===n?void 0:n.type)===a.MSG_IMAGE))},clickEvent:function(){var e,t,n="";switch(null===(e=T.value)||void 0===e?void 0:e.type){case o.default.TYPES.MSG_FILE:n=T.value.payload.fileUrl;break;case o.default.TYPES.MSG_VIDEO:n=T.value.payload.remoteVideoUrl;break;case o.default.TYPES.MSG_IMAGE:n=T.value.payload.imageInfoArray[0].url;break}null===(t=window)||void 0===t||t.open(n,"_blank")}},{text:o.TUITranslateService.t("TUIChat.复制"),iconUrl:v.default,renderCondition:function(){var e;return!!T.value&&(u.isUniFrameWork&&(null===(e=T.value)||void 0===e?void 0:e.type)===a.MSG_TEXT)},clickEvent:function(){var e,t;u.isUniFrameWork&&(null===l.TUIGlobal||void 0===l.TUIGlobal||l.TUIGlobal.setClipboardData({data:null===(e=T.value)||void 0===e||null===(t=e.payload)||void 0===t?void 0:t.text}))}},{text:o.TUITranslateService.t("TUIChat.撤回"),iconUrl:f.default,renderCondition:function(){var e,t;return!!T.value&&("out"===(null===(e=T.value)||void 0===e?void 0:e.flow)&&"success"===(null===(t=T.value)||void 0===t?void 0:t.status))},clickEvent:function(){if(!T.value)return;var e=o.TUIStore.getMessageModel(T.value.ID);e.revokeMessage().then((function(){(0,p.enableSampleTaskStatus)("revokeMessage")})).catch((function(e){if(e.code=20016){var t=o.TUITranslateService.t("TUIChat.已过撤回时限");(0,c.Toast)({message:t,type:c.TOAST_TYPE.ERROR})}}))}},{text:o.TUITranslateService.t("TUIChat.删除"),iconUrl:s.default,renderCondition:function(){var e;return!!T.value&&"success"===(null===(e=T.value)||void 0===e?void 0:e.status)},clickEvent:function(){if(!T.value)return;var e=o.TUIStore.getMessageModel(T.value.ID);e.deleteMessage()}},{text:o.TUITranslateService.t("TUIChat.转发"),iconUrl:I.default,renderCondition:function(){var e;return!!T.value&&"success"===(null===(e=T.value)||void 0===e?void 0:e.status)},clickEvent:function(){if(!T.value)return;o.TUIStore.update(o.StoreName.CUSTOM,"singleForwardMessageID",T.value.ID)}},{text:o.TUITranslateService.t("TUIChat.引用"),iconUrl:d.default,renderCondition:function(){var e;if(!T.value)return!1;var t=o.TUIStore.getMessageModel(T.value.ID);return"success"===(null===(e=T.value)||void 0===e?void 0:e.status)&&!t.getSignalingInfo()},clickEvent:function(){if(!T.value)return;T.value.quoteMessage()}}],T=(0,i.ref)();(0,i.watchEffect)((function(){T.value=o.TUIStore.getMessageModel(n.messageItem.ID)}));var g=(0,i.computed)((function(){for(var e=0;e<r.length;++e)if(r[e].renderCondition())return!1;return!0}));return{isPC:u.isPC,actionItems:r,isAllActionItemInvalid:g,getFunction:function(e){r[e].clickEvent()}}},g.components=Object.assign({Icon:function(){n.e("TUIKit/components/common/Icon").then(function(){return resolve(n("b42b"))}.bind(null,n)).catch(n.oe)}},g.components);var U=g;t.default=U},"4e81":function(e,t,n){"use strict";n.r(t);var a=n("093c"),r=n("d7b1");for(var o in r)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("334e");var i=n("f0c5"),u=Object(i["a"])(r["default"],a["b"],a["c"],!1,null,"3ac99866",null,!1,a["a"],void 0);t["default"]=u.exports},afe7:function(e,t,n){},d7b1:function(e,t,n){"use strict";n.r(t);var a=n("4ade"),r=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=r.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'TUIKit/components/TUIChat/message-list/message-tool/index-create-component',
    {
        'TUIKit/components/TUIChat/message-list/message-tool/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("4e81"))
        })
    },
    [['TUIKit/components/TUIChat/message-list/message-tool/index-create-component']]
]);
