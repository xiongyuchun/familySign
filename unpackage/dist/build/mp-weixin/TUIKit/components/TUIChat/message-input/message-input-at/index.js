require('../../../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["TUIKit/components/TUIChat/message-input/message-input-at/index"],{"1e17":function(e,t,n){"use strict";var a=n("3168"),l=n.n(a);l.a},3168:function(e,t,n){},6645:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){}));var a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.isPC?null:e.TUITranslateService.t("TUIChat.选择提醒的人")),a=e.__map(e.showMemberList,(function(t,n){var a=e.__get_orig(t),l=e.handleMemberAvatar(t),u=e.handleMemberName(t);return{$orig:a,m0:l,m1:u}}));e.$mp.data=Object.assign({},{$root:{g0:n,l0:a}})},l=[]},"7db1":function(e,t,n){"use strict";n.r(t);var a=n("6645"),l=n("a1a2");for(var u in l)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return l[e]}))}(u);n("1e17");var o=n("f0c5"),r=Object(o["a"])(l["default"],a["b"],a["c"],!1,null,"01b037c4",null,!1,a["a"],void 0);t["default"]=r.exports},a1a2:function(e,t,n){"use strict";n.r(t);var a=n("fd48"),l=n.n(a);for(var u in a)["default"].indexOf(u)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(u);t["default"]=l.a},fd48:function(e,t,n){"use strict";var a=n("4ea4"),l=n("7037");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=a(n("448a")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=u?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n("a6ed")),r=n("2ab0"),i=n("d31c"),v=n("8e85");function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var c={setup:function(e,t){var n=t.emit,a=(0,r.ref)(),l=(0,r.ref)(),s=(0,r.ref)(!1),c=(0,r.ref)(),f=(0,r.ref)(),d=(0,r.ref)(),p=(0,r.ref)(!1),m=(0,r.ref)({left:0,top:0}),b=(0,r.ref)(0),I=(0,r.ref)(""),T={userID:o.default.TYPES.MSG_AT_ALL,nick:"所有人",isAll:!0,avatar:"https://web.sdk.qcloud.com/im/assets/images/at.svg"};o.TUIStore.watch(o.StoreName.CONV,{currentConversationID:function(e){var t;if(e!==I.value&&(I.value=e,c.value=[],f.value=[],d.value=[],p.value=!1,o.TUIStore.update(o.StoreName.CUSTOM,"memberList",c.value),null!==I&&void 0!==I&&null!==(t=I.value)&&void 0!==t&&t.startsWith("GROUP"))){var n;p.value=!0;var a=null===I||void 0===I||null===(n=I.value)||void 0===n?void 0:n.substring(5);o.TUIGroupService.switchGroup(a)}}}),o.TUIStore.watch(o.StoreName.GRP,{currentGroupMemberList:function(e){c.value=e,f.value=[T].concat((0,u.default)(c.value)),d.value=f.value,o.TUIStore.update(o.StoreName.CUSTOM,"memberList",c.value)}});var g=function(e){p.value&&(s.value=e,s.value&&n("onAtListOpen"))};v.TUIGlobal.toggleAtList=g,v.TUIGlobal.handleAtListPosition=function(e){m.value=e},v.TUIGlobal.setCurrentSelectIndex=function(e){var t;b.value=e,null===l||void 0===l||null===(t=l.value[b.value])||void 0===t||t.scrollIntoView(!1)},v.TUIGlobal.setShowMemberList=function(e){d.value=e},(0,r.watch)((function(){return[m.value,null===a||void 0===a?void 0:a.value]}),(function(){var e;!i.isH5&&null!==a&&void 0!==a&&a.value&&null!==a&&void 0!==a&&null!==(e=a.value)&&void 0!==e&&e.style&&(a.value.style.left=m.value.left+"px",a.value.style.top=m.value.top-a.value.clientHeight+"px")}));var h=function(){s.value=!1,d.value=f.value,m.value={left:0,top:0}};return Object.assign({TUITranslateService:o.TUITranslateService,isPC:i.isPC,MessageInputAt:a,memberListItems:l,showAtList:s,showMemberList:d,selectedIndex:b,closeAt:h,selectItem:function(e){var t;if(i.isPC&&v.TUIGlobal.selectItem)v.TUIGlobal.selectItem(e);else if(null!==d&&void 0!==d&&null!==(t=d.value)&&void 0!==t&&t.length){var a=null===d||void 0===d?void 0:d.value[e];n("insertAt",{id:null===a||void 0===a?void 0:a.userID,label:(null===a||void 0===a?void 0:a.nick)||(null===a||void 0===a?void 0:a.userID)})}h()},handleMemberAvatar:function(e){return(null===e||void 0===e?void 0:e.avatar)||"https://web.sdk.qcloud.com/component/TUIKit/assets/avatar_21.png"},handleMemberName:function(e){return null!==e&&void 0!==e&&e.nick?null===e||void 0===e?void 0:e.nick:null===e||void 0===e?void 0:e.userID}},{toggleAtList:g})}};c.components=Object.assign({BottomPopup:function(){Promise.all([n.e("TUIKit/common/vendor"),n.e("TUIKit/components/common/BottomPopup/index")]).then(function(){return resolve(n("d5db"))}.bind(null,n)).catch(n.oe)}},c.components);var f=c;t.default=f}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'TUIKit/components/TUIChat/message-input/message-input-at/index-create-component',
    {
        'TUIKit/components/TUIChat/message-input/message-input-at/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("7db1"))
        })
    },
    [['TUIKit/components/TUIChat/message-input/message-input-at/index-create-component']]
]);
