{"version":3,"sources":["webpack:///D:/sign/familySign/pages/sub-packages-doctor/components/mpvue-echarts/echarts.vue?feab","webpack:///D:/sign/familySign/pages/sub-packages-doctor/components/mpvue-echarts/echarts.vue?3692","webpack:///D:/sign/familySign/pages/sub-packages-doctor/components/mpvue-echarts/echarts.vue?fb86","webpack:///D:/sign/familySign/pages/sub-packages-doctor/components/mpvue-echarts/echarts.vue?d798","uni-app:///pages/sub-packages-doctor/components/mpvue-echarts/echarts.vue","webpack:///D:/sign/familySign/pages/sub-packages-doctor/components/mpvue-echarts/echarts.vue?71d7","webpack:///D:/sign/familySign/pages/sub-packages-doctor/components/mpvue-echarts/echarts.vue?7956"],"names":["touch","props","onInit","type","default","canvasId","lazyLoad","disableTouch","throttleTouch","onReady","console","methods","init","version","query","setTimeout","height","handler","canvasToTempFilePath","wx","opt","touchStart","chart","zrX","zrY","touchMove","lastMoveTime","touchEnd"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgI;AAChI;AAC2D;AACL;AACqC;;;AAG3F;AACqM;AACrM,gBAAgB,8MAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,8FAAM;AACR,EAAE,uGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,kGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAiwB,CAAgB,sxBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACcrxB;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;EACA;IACA;IACAA;IACAA;EACA;EACA;AACA;AAAA,eAEA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;EACA;EACAK;IACA;IACA;MACAC,qEACA;MACA;IACA;IAEA;EACA;EACAC;IACAC;MAAA;MACA;QAAA;MAAA;MACA,sEACAC;MACA;QACAH,0CACA,oDACA;QACA;MACA;;MAEA;MACA;MACA;MACA;;MAEA;MAEA;QAAA;MAAA;;MAEA;MACA;MACAI;QACA;UACAC;YAAA;UAAA;UACA;QACA;QAEA;UAAAC;QAEA;UACA;QACA;UACA;QACA;QAEA;UACA;QACA;QAEA;UAAAC;QAEA;QACA;MACA;IACA;IACAC;MACA;MACA;QACAC;UACAd;QAAA,GACAe,KACA;MACA;IACA;IACAC;MACA;QAAAC;MACA;MACA;MACA;QACAC;QACAC;MACA;MACA;QACAD;QACAC;MACA;MACA;IACA;IACAC;MACA,IACAlB,eACA,KADAA;QAAAC,gBACA,KADAA;QAAAc,QACA,KADAA;QAAAI,eACA,KADAA;MAEA;MAEA;QACA;QACA;QACA;MACA;MAEA;MACA;QACAH;QACAC;MACA;MACA;IACA;IACAG;MACA;QAAAL;MACA;MACA;MACA;QACAC;QACAC;MACA;MACA;QACAD;QACAC;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1KA;AAAA;AAAA;AAAA;AAA2mC,CAAgB,qmCAAG,EAAC,C;;;;;;;;;;;ACA/nC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/sub-packages-doctor/components/mpvue-echarts/echarts.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./echarts.vue?vue&type=template&id=26eef058&scoped=true&\"\nvar renderjs\nimport script from \"./echarts.vue?vue&type=script&lang=js&\"\nexport * from \"./echarts.vue?vue&type=script&lang=js&\"\nimport style0 from \"./echarts.vue?vue&type=style&index=0&id=26eef058&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26eef058\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/sub-packages-doctor/components/mpvue-echarts/echarts.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echarts.vue?vue&type=template&id=26eef058&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echarts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echarts.vue?vue&type=script&lang=js&\"","<template>\n  <canvas\n    v-if=\"canvasId\"\n    class=\"ec-canvas\"\n    :id=\"canvasId\"\n    :canvasId=\"canvasId\"\n    @touchstart=\"touchStart\"\n    @touchmove=\"touchMove\"\n    @touchend=\"touchEnd\"\n    @error=\"error\">\n  </canvas>\n</template>\n\n<script>\nimport WxCanvas from './wx-canvas';\nimport * as echarts from \"../../static/echarts.min.js\";\n\nfunction wrapTouch(e) {\n  for (let i = 0; i < e.mp.touches.length; i += 1) {\n    const touch = e.mp.touches[i];\n    touch.offsetX = touch.x;\n    touch.offsetY = touch.y;\n  }\n  return e;\n}\n\nexport default {\n  props: {\n    // echarts: {\n    //   required: true,\n    //   type: Object,\n    //   default() {\n    //     return null;\n    //   },\n    // },\n    onInit: {\n      type: Function,\n      default: null,\n    },\n    canvasId: {\n      type: String,\n      default: 'ec-canvas',\n    },\n    lazyLoad: {\n      type: Boolean,\n      default: false,\n    },\n    disableTouch: {\n      type: Boolean,\n      default: false,\n    },\n    throttleTouch: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  onReady() {\n\t  this.echarts=echarts\n    if (!this.echarts) {\n      console.warn('组件需绑定 echarts 变量，例：<ec-canvas id=\"mychart-dom-bar\" '\n        + 'canvas-id=\"mychart-bar\" :echarts=\"echarts\"></ec-canvas>');\n      return;\n    }\n\n    if (!this.lazyLoad) this.init();\n  },\n  methods: {\n    init(callback) {\n      const version = wx.version.version.split('.').map(n => parseInt(n, 10));\n      const isValid = version[0] > 1 || (version[0] === 1 && version[1] > 9)\n        || (version[0] === 1 && version[1] === 9 && version[2] >= 91);\n      if (!isValid) {\n        console.error('微信基础库版本过低，需大于等于 1.9.91。'\n          + '参见：https://github.com/ecomfe/echarts-for-weixin'\n          + '#%E5%BE%AE%E4%BF%A1%E7%89%88%E6%9C%AC%E8%A6%81%E6%B1%82');\n        return;\n      }\n\n      // const { canvasId } = this;\n      // this.ctx = wx.createCanvasContext(canvasId);\n\t  const canvasId=this.canvasId;//-----修改------\n\t  this.ctx=wx.createCanvasContext(canvasId,this);//-----修改------\n\n      const canvas = new WxCanvas(this.ctx, canvasId);\n\n      this.echarts.setCanvasCreator(() => canvas);\n\n      // const query = wx.createSelectorQuery();\n\t  const query=wx.createSelectorQuery().in(this);//-----修改------\n      query.select(`#${canvasId}`).boundingClientRect((res) => {\n        if (!res) {\n          setTimeout(() => this.init(), 50);\n          return;\n        }\n\n        const { width, height } = res;\n\n        if (typeof callback === 'function') {\n          this.chart = callback(canvas, width, height);\n        } else if (typeof this.onInit === 'function') {\n          this.chart = this.onInit(canvas, width, height);\n        }\n\n        if (!this.chart) {\n          return;\n        }\n\n        const { handler } = this.chart.getZr();\n\n        this.handler = handler;\n        this.processGesture = handler.proxy.processGesture || (() => {});\n      }).exec();\n    },\n    canvasToTempFilePath(opt) {\n      const { canvasId } = this;\n      this.ctx.draw(true, () => {\n        wx.canvasToTempFilePath({\n          canvasId,\n          ...opt,\n        });\n      });\n    },\n    touchStart(e) {\n      const { disableTouch, chart } = this;\n      if (disableTouch || !chart || !e.mp.touches.length) return;\n      const touch = e.mp.touches[0];\n      this.handler.dispatch('mousedown', {\n        zrX: touch.x,\n        zrY: touch.y,\n      });\n      this.handler.dispatch('mousemove', {\n        zrX: touch.x,\n        zrY: touch.y,\n      });\n      this.processGesture(wrapTouch(e), 'start');\n    },\n    touchMove(e) {\n      const {\n        disableTouch, throttleTouch, chart, lastMoveTime,\n      } = this;\n      if (disableTouch || !chart || !e.mp.touches.length) return;\n\n      if (throttleTouch) {\n        const currMoveTime = Date.now();\n        if (currMoveTime - lastMoveTime < 240) return;\n        this.lastMoveTime = currMoveTime;\n      }\n\n      const touch = e.mp.touches[0];\n      this.handler.dispatch('mousemove', {\n        zrX: touch.x,\n        zrY: touch.y,\n      });\n      this.processGesture(wrapTouch(e), 'change');\n    },\n    touchEnd(e) {\n      const { disableTouch, chart } = this;\n      if (disableTouch || !chart) return;\n      const touch = e.mp.changedTouches ? e.mp.changedTouches[0] : {};\n      this.handler.dispatch('mouseup', {\n        zrX: touch.x,\n        zrY: touch.y,\n      });\n      this.handler.dispatch('click', {\n        zrX: touch.x,\n        zrY: touch.y,\n      });\n      this.processGesture(wrapTouch(e), 'end');\n    },\n  },\n};\n</script>\n\n<style scoped>\n.ec-canvas {\n  width: 100%;\n  height: 100%;\n}\n</style>\n\n","import mod from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echarts.vue?vue&type=style&index=0&id=26eef058&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./echarts.vue?vue&type=style&index=0&id=26eef058&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1717507241257\n      var cssReload = require(\"E:/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}