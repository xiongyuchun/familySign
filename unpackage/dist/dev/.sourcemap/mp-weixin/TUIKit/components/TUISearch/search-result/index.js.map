{"version":3,"sources":["webpack:///D:/sign/familySign/TUIKit/components/TUISearch/search-result/index.vue?dc70","webpack:///D:/sign/familySign/TUIKit/components/TUISearch/search-result/index.vue?118c","webpack:///D:/sign/familySign/TUIKit/components/TUISearch/search-result/index.vue?2d36","webpack:///D:/sign/familySign/TUIKit/components/TUISearch/search-result/index.vue?59b2","uni-app:///TUIKit/components/TUISearch/search-result/index.vue?vue&type=script&lang=ts&"],"names":["__sfc_main","props","searchType","type","String","default","validator","value","includes","setup","__props","__ctx","keywordList","messageTypeList","searchMessageTypeDefault","timePosition","timePeriod","keywordListMatchType","currentSearchTabKey","key","searchResult","searchAllMessageList","searchAllMessageTotalCount","searchFriendList","searchGroupList","currentSearchConversationID","searchConversationResult","searchConversationMessageList","searchConversationMessageTotalCount","searchConversationResultGroupByDate","isResultDetailShow","isLoading","isSearchDetailLoading","isSearchDefaultShow","length","Object","keys","TUIStore","watch","StoreName","CONV","currentConversationID","id","CUSTOM","currentSearchInputValue","obj","trim","split","currentSearchMessageType","typeObject","currentSearchMessageTime","timeObject","setMessageSearchResultList","option","undefined","conversationID","cursor","then","res","data","searchResultList","totalCount","assign","label","searchMessageTypeList","list","slice","messageList","groupResultListByDate","setMessageSearchResultListDebounce","resetSearchResult","newValue","oldValue","forEach","immediate","getMoreResult","result","update","getMoreResultInConversation","showResultDetail","isShow","targetType","targetResult","conversation","messageCount","generateListItemClass","item","generateResultItemDisplayType","isPC","push","date","time","prevYMD","currYMD","i","navigateToChatPosition","message","isSearching","TUIConversationService","switchConversation","CHAT","generateVueRenderKey","TUITranslateService","searchIcon","enterIcon","enterConversation","components","SearchResultLoading","SearchResultDefault","SearchResultItem","Icon"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AAC6C;;;AAGjG;AACqM;AACrM,gBAAgB,8MAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA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","file":"TUIKit/components/TUISearch/search-result/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=ce7b6d60&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./style/index.scss?vue&type=style&index=0&id=ce7b6d60&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce7b6d60\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"TUIKit/components/TUISearch/search-result/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=template&id=ce7b6d60&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 =\n    !_vm.isLoading &&\n    !_vm.isSearchDefaultShow &&\n    _vm.props.searchType !== \"conversation\" &&\n    (_vm.isPC || !_vm.isResultDetailShow)\n      ? _vm.__map(_vm.searchResult, function (result, __i0__) {\n          var $orig = _vm.__get_orig(result)\n          var g0 =\n            _vm.props.searchType === \"global\"\n              ? _vm.TUITranslateService.t(\"TUISearch.\" + result.label)\n              : null\n          var l0 = _vm.__map(result.list, function (item, __i1__) {\n            var $orig = _vm.__get_orig(item)\n            var m0 = _vm.generateListItemClass(item)\n            return {\n              $orig: $orig,\n              m0: m0,\n            }\n          })\n          var g1 =\n            _vm.currentSearchTabKey === \"all\" || result.cursor\n              ? _vm.TUITranslateService.t(\"TUISearch.查看更多\")\n              : null\n          var g2 =\n            _vm.currentSearchTabKey === \"all\" || result.cursor\n              ? _vm.TUITranslateService.t(\"TUISearch.\" + result.label)\n              : null\n          return {\n            $orig: $orig,\n            g0: g0,\n            l0: l0,\n            g1: g1,\n            g2: g2,\n          }\n        })\n      : null\n  var g3 =\n    !_vm.isLoading &&\n    !_vm.isSearchDefaultShow &&\n    (_vm.isResultDetailShow || _vm.props.searchType === \"conversation\") &&\n    !_vm.isSearchDetailLoading &&\n    _vm.isResultDetailShow &&\n    _vm.props.searchType !== \"conversation\"\n      ? _vm.TUITranslateService.t(\"TUISearch.条与\")\n      : null\n  var g4 =\n    !_vm.isLoading &&\n    !_vm.isSearchDefaultShow &&\n    (_vm.isResultDetailShow || _vm.props.searchType === \"conversation\") &&\n    !_vm.isSearchDetailLoading &&\n    _vm.isResultDetailShow &&\n    _vm.props.searchType !== \"conversation\"\n      ? _vm.TUITranslateService.t(\"TUISearch.相关的\")\n      : null\n  var g5 =\n    !_vm.isLoading &&\n    !_vm.isSearchDefaultShow &&\n    (_vm.isResultDetailShow || _vm.props.searchType === \"conversation\") &&\n    !_vm.isSearchDetailLoading &&\n    _vm.isResultDetailShow &&\n    _vm.props.searchType !== \"conversation\"\n      ? _vm.TUITranslateService.t(\n          \"TUISearch.\" +\n            (_vm.currentSearchTabKey === \"allMessage\"\n              ? \"结果\"\n              : _vm.searchMessageTypeList[_vm.currentSearchTabKey].label)\n        )\n      : null\n  var g6 =\n    !_vm.isLoading &&\n    !_vm.isSearchDefaultShow &&\n    (_vm.isResultDetailShow || _vm.props.searchType === \"conversation\") &&\n    !_vm.isSearchDetailLoading &&\n    _vm.isResultDetailShow &&\n    _vm.props.searchType !== \"conversation\"\n      ? _vm.TUITranslateService.t(\"TUISearch.进入聊天\")\n      : null\n  var l2 =\n    !_vm.isLoading &&\n    !_vm.isSearchDefaultShow &&\n    (_vm.isResultDetailShow || _vm.props.searchType === \"conversation\") &&\n    !_vm.isSearchDetailLoading &&\n    _vm.searchConversationMessageList &&\n    _vm.searchConversationMessageList[0] &&\n    (_vm.props.searchType === \"global\" ||\n      (_vm.currentSearchTabKey !== \"imageMessage\" &&\n        _vm.currentSearchTabKey !== \"fileMessage\"))\n      ? _vm.__map(_vm.searchConversationMessageList, function (item, index) {\n          var $orig = _vm.__get_orig(item)\n          var m1 = _vm.generateVueRenderKey(item.ID)\n          var g7 = item.getMessageContent()\n          var m2 = _vm.generateResultItemDisplayType()\n          return {\n            $orig: $orig,\n            m1: m1,\n            g7: g7,\n            m2: m2,\n          }\n        })\n      : null\n  var l4 =\n    !_vm.isLoading &&\n    !_vm.isSearchDefaultShow &&\n    (_vm.isResultDetailShow || _vm.props.searchType === \"conversation\") &&\n    !_vm.isSearchDetailLoading &&\n    _vm.searchConversationMessageList &&\n    _vm.searchConversationMessageList[0] &&\n    !(\n      _vm.props.searchType === \"global\" ||\n      (_vm.currentSearchTabKey !== \"imageMessage\" &&\n        _vm.currentSearchTabKey !== \"fileMessage\")\n    )\n      ? _vm.__map(\n          _vm.searchConversationResultGroupByDate,\n          function (group, __i2__) {\n            var $orig = _vm.__get_orig(group)\n            var m3 = _vm.generateVueRenderKey(group.date)\n            var m5 = _vm.generateResultItemDisplayType()\n            var l3 = _vm.__map(group.list, function (item, __i3__) {\n              var $orig = _vm.__get_orig(item)\n              var m4 = _vm.generateVueRenderKey(item.ID)\n              var g8 = item.getMessageContent()\n              return {\n                $orig: $orig,\n                m4: m4,\n                g8: g8,\n              }\n            })\n            return {\n              $orig: $orig,\n              m3: m3,\n              m5: m5,\n              l3: l3,\n            }\n          }\n        )\n      : null\n  var g9 =\n    !_vm.isLoading &&\n    !_vm.isSearchDefaultShow &&\n    (_vm.isResultDetailShow || _vm.props.searchType === \"conversation\") &&\n    !_vm.isSearchDetailLoading &&\n    _vm.searchConversationMessageList &&\n    _vm.searchConversationMessageList[0] &&\n    _vm.searchConversationResult &&\n    _vm.searchConversationResult.cursor\n      ? _vm.TUITranslateService.t(\"TUISearch.查看更多历史记录\")\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        g6: g6,\n        l2: l2,\n        l4: l4,\n        g9: g9,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--14-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--14-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { TUITranslateService, TUIConversationService, TUIStore, StoreName, IGroupModel, IMessageModel } from \"@tencentcloud/chat-uikit-engine\";\nimport SearchResultItem from \"./search-result-item/index.vue\";\nimport SearchResultDefault from \"./search-result-default/index.vue\";\nimport SearchResultLoading from \"./search-result-loading/index.vue\";\nimport { searchMessageTypeList, searchMessageTypeDefault } from \"../search-type-list\";\nimport Icon from \"../../common/Icon.vue\";\nimport searchIcon from \"../../../assets/icon/search.svg\";\nimport enterIcon from \"../../../assets/icon/right-icon.svg\";\nimport { ref, watch, computed } from \"../../../adapter-vue\";\nimport { ISearchResultListItem, IFriendType } from \"../../../interface\";\nimport { searchCloudMessages, searchFriends, searchGroups, enterConversation, generateSearchResultYMD, debounce } from \"../utils\";\nimport { isPC, isUniFrameWork } from \"../../../utils/env\";\nimport { SEARCH_TYPE } from \"../type\";\nimport { enableSampleTaskStatus } from \"../../../utils/enableSampleTaskStatus\";\ninterface ISearchConversationResult {\n  totalCount: number;\n  cursor: number;\n  searchResultList: Array<{\n    conversationID: string;\n    messageCount: number;\n    messageList: Array<IMessageModel>;\n  }>;\n}\nconst __sfc_main = {};\n__sfc_main.props = {\n  searchType: {\n    type: String,\n    default: \"global\",\n    // \"global\":全局搜索, \"conversation\":会话内搜索\n    validator(value: string) {\n      return [\"global\", \"conversation\"].includes(value);\n    }\n  }\n};\n__sfc_main.setup = (__props, __ctx) => {\n  const props = __props;\n\n  // search params\n  const keywordList = ref<Array<string>>([]);\n  const messageTypeList = ref<Array<string>>((searchMessageTypeDefault[(props.searchType as SEARCH_TYPE)]?.value as Array<string>));\n  const timePosition = ref<number>(0);\n  const timePeriod = ref<number>(0);\n  // 通过空格分割整串输入后，按照“与”关系搜索\n  // 比如: 输入\"111 222\", 搜索既有 111 又有 222 的消息, 同时也包含到严格搜索“111 222”的消息情况\n  const keywordListMatchType = ref<string>(\"and\");\n\n  // current search tab key\n  const currentSearchTabKey = ref<string>(searchMessageTypeDefault[(props.searchType as SEARCH_TYPE)]?.key);\n\n  // search results all（所有会话搜索结果)\n  const searchResult = ref<{\n    [propsName: string]: {\n      key: string;\n      label: string;\n      list: Array<any>;\n      cursor: string | null;\n    };\n  }>({});\n  const searchAllMessageList = ref<Array<ISearchResultListItem>>([]);\n  const searchAllMessageTotalCount = ref<number>(0);\n  const searchFriendList = ref<Array<IFriendType>>([]);\n  const searchGroupList = ref<Array<IGroupModel>>([]);\n\n  // search results detail（具体某个会话的搜索结果）\n  const currentSearchConversationID = ref<string>(\"\");\n  const searchConversationResult = ref<ISearchConversationResult>();\n  const searchConversationMessageList = ref<Array<IMessageModel>>([]);\n  const searchConversationMessageTotalCount = ref<number>();\n\n  // 文件消息/图片视频消息的搜索结果，按时间线分组\n  const searchConversationResultGroupByDate = ref<Array<{\n    date: string;\n    list: Array<IMessageModel>;\n  }>>([]);\n\n  // ui display control\n  const isResultDetailShow = ref<boolean>(false);\n  const isLoading = ref<boolean>(false);\n  const isSearchDetailLoading = ref<boolean>(false);\n  const isSearchDefaultShow = computed((): boolean => {\n    if (isLoading.value) {\n      return false;\n    }\n    if (props.searchType === \"global\") {\n      // 未搜索 / 有结果\n      if (!keywordList?.value?.length || Object?.keys(searchResult.value)?.length) {\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      if (searchConversationMessageList?.value?.length) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  });\n  TUIStore.watch(StoreName.CONV, {\n    currentConversationID: (id: string) => {\n      props.searchType === \"conversation\" && (currentSearchConversationID.value = id);\n    }\n  });\n  TUIStore.watch(StoreName.CUSTOM, {\n    currentSearchInputValue: (obj: {\n      value: string;\n      searchType: string;\n    }) => {\n      if (obj?.searchType === props?.searchType) {\n        // 根据空格模糊搜索结果\n        keywordList.value = obj?.value ? obj.value.trim().split(/\\s+/) : [];\n      }\n    },\n    currentSearchMessageType: (typeObject: {\n      value: any;\n      searchType: string;\n    }) => {\n      if (typeObject?.searchType === props?.searchType) {\n        currentSearchTabKey.value = typeObject?.value?.key || searchMessageTypeDefault[(props.searchType as SEARCH_TYPE)]?.key;\n        messageTypeList.value = typeObject?.value?.value || searchMessageTypeDefault[(props.searchType as SEARCH_TYPE)]?.value;\n      }\n    },\n    currentSearchMessageTime: (timeObject: {\n      value: any;\n      searchType: string;\n    }) => {\n      if (timeObject?.searchType === props?.searchType) {\n        timePosition.value = timeObject?.value?.value?.timePosition;\n        timePeriod.value = timeObject?.value?.value?.timePeriod;\n      }\n    }\n  });\n  const setMessageSearchResultList = (option?: {\n    conversationID?: string;\n    cursor?: number;\n  }) => {\n    searchCloudMessages({\n      keywordList: keywordList?.value?.length ? keywordList.value : undefined,\n      messageTypeList: messageTypeList.value,\n      timePosition: timePosition.value,\n      timePeriod: timePeriod.value,\n      conversationID: option?.conversationID || undefined,\n      cursor: option?.cursor || undefined,\n      keywordListMatchType: keywordListMatchType.value\n    }).then((res: any) => {\n      enableSampleTaskStatus(\"searchCloudMessage\");\n      if (!option?.conversationID) {\n        // 全部会话搜索结果\n        option?.cursor ? searchAllMessageList.value = [...searchAllMessageList.value, ...res?.data?.searchResultList] : searchAllMessageList.value = res?.data?.searchResultList;\n        searchAllMessageTotalCount.value = res?.data?.totalCount;\n        const key = currentSearchTabKey.value === \"all\" ? \"allMessage\" : currentSearchTabKey.value;\n        if (searchAllMessageList?.value?.length && currentSearchTabKey.value !== \"contact\" && currentSearchTabKey.value !== \"group\") {\n          searchResult.value = Object.assign({}, searchResult.value, {\n            [key]: {\n              key,\n              label: searchMessageTypeList[key].label,\n              list: currentSearchTabKey.value === \"all\" ? searchAllMessageList?.value?.slice(0, 3) : searchAllMessageList?.value,\n              cursor: res?.data?.cursor || null\n            }\n          });\n        } else {\n          delete searchResult?.value[key];\n        }\n      } else {\n        // 指定会话搜索结果\n        searchConversationResult.value = res?.data;\n        option?.cursor ? searchConversationMessageList.value = [...searchConversationMessageList.value, ...res?.data?.searchResultList[0]?.messageList] : searchConversationMessageList.value = res?.data?.searchResultList[0]?.messageList;\n        searchConversationMessageTotalCount.value = res?.data?.totalCount;\n        // 计算时间戳展示位置（仅会话内搜索 文件/图片 类型需要）\n        if (props?.searchType === \"conversation\" && (currentSearchTabKey.value === \"fileMessage\" || currentSearchTabKey.value === \"imageMessage\")) {\n          searchConversationResultGroupByDate.value = groupResultListByDate(searchConversationMessageList.value);\n        } else {\n          searchConversationResultGroupByDate.value = [];\n        }\n      }\n      isLoading.value = false;\n      isSearchDetailLoading.value = false;\n    });\n  };\n  const setMessageSearchResultListDebounce = debounce(setMessageSearchResultList, 500);\n  const resetSearchResult = () => {\n    searchResult.value = {};\n    searchConversationResult.value = ({} as ISearchConversationResult);\n    searchConversationMessageList.value = [];\n    searchConversationResultGroupByDate.value = [];\n  };\n  watch(() => [keywordList.value, currentSearchTabKey.value, timePosition.value, timePeriod.value], (newValue: any, oldValue: any) => {\n    if (newValue === oldValue) {\n      return;\n    }\n    // 全局搜索必须有关键词，会话内搜索可以没有关键词\n    if (!keywordList?.value?.length && props?.searchType === \"global\") {\n      resetSearchResult();\n      return;\n    }\n    isLoading.value = true;\n    if (props.searchType === \"conversation\") {\n      // 会话内搜索\n      resetSearchResult();\n      setMessageSearchResultList({\n        conversationID: currentSearchConversationID.value\n      });\n    } else {\n      // 全局搜索\n      if (oldValue && oldValue[1] === \"all\" && newValue && newValue[1] === \"allMessage\") {\n        // 从【全部结果-聊天记录】分类中 点击某条结果，直接跳转到【聊天记录】tab，并且打开相关会话内搜索结果 情况, isResultDetailShow 保持为true\n        // 不重新搜索\n        searchResult?.value[\"allMessage\"]?.list && (searchResult.value[\"allMessage\"].list = searchAllMessageList?.value);\n        // 清除非聊天记录类型的其他搜索结果\n        Object?.keys(searchResult?.value)?.forEach((key: string) => {\n          if (key !== \"allMessage\") {\n            delete searchResult?.value[key];\n          }\n        });\n        isLoading.value = false;\n        return;\n      } else {\n        // 其余情况，恢复 isResultDetailShow.value 为 false，并且重新搜索\n        isResultDetailShow.value = false;\n        resetSearchResult();\n      }\n      setMessageSearchResultListDebounce();\n    }\n  }, {\n    immediate: true\n  });\n  const getMoreResult = (result: any) => {\n    if (currentSearchTabKey.value === \"all\") {\n      // 此时查看更多：切换到相应结果对应的result，展示其类型全量搜索结果\n      TUIStore.update(StoreName.CUSTOM, \"currentSearchMessageType\", {\n        value: searchMessageTypeList[result.key],\n        searchType: props.searchType\n      });\n    } else {\n      // 在某一单类结果下查看更多：根据 cursor 作为搜索起始位置，拉取下一部分结果\n      setMessageSearchResultList({\n        cursor: result?.cursor\n      });\n    }\n  };\n  const getMoreResultInConversation = () => {\n    setMessageSearchResultList({\n      cursor: searchConversationResult?.value?.cursor,\n      conversationID: currentSearchConversationID?.value\n    });\n  };\n  const showResultDetail = (isShow: boolean, targetType?: string, targetResult?: any) => {\n    isResultDetailShow.value = isShow;\n    if (targetType) {\n      TUIStore.update(StoreName.CUSTOM, \"currentSearchMessageType\", {\n        value: searchMessageTypeList[targetType],\n        searchType: props.searchType\n      });\n    }\n    currentSearchConversationID.value = targetResult?.conversation?.conversationID;\n    searchConversationMessageTotalCount.value = targetResult?.messageCount;\n    if (targetResult) {\n      isSearchDetailLoading.value = true;\n      setMessageSearchResultListDebounce({\n        conversationID: currentSearchConversationID.value\n      });\n    }\n  };\n  const generateListItemClass = (item: any): Array<string> => {\n    return currentSearchConversationID.value === item?.conversation?.conversationID ? [\"list-item\", \"list-item-selected\"] : [\"list-item\"];\n  };\n  const generateResultItemDisplayType = (): string => {\n    if (props.searchType === \"conversation\" && currentSearchTabKey.value === \"fileMessage\") {\n      return \"file\";\n    } else if (props.searchType === \"conversation\" && currentSearchTabKey.value === \"imageMessage\") {\n      return \"image\";\n    } else if (isPC) {\n      return \"bubble\";\n    } else {\n      return \"info\";\n    }\n  };\n  const groupResultListByDate = (messageList: Array<any>): Array<{\n    date: string;\n    list: Array<IMessageModel>;\n  }> => {\n    const result: Array<{\n      date: string;\n      list: Array<IMessageModel>;\n    }> = [];\n    if (!messageList?.length) {\n      return result;\n    } else if (messageList?.length === 1) {\n      result.push({\n        date: generateSearchResultYMD(messageList[0]?.time),\n        list: messageList\n      });\n      return result;\n    }\n    let prevYMD = \"\";\n    let currYMD = \"\";\n    for (let i = 0; i < messageList?.length; i++) {\n      currYMD = generateSearchResultYMD(messageList[i]?.time);\n      if (prevYMD !== currYMD) {\n        result.push({\n          date: currYMD,\n          list: [messageList[i]]\n        });\n      } else {\n        result[result?.length - 1]?.list?.push(messageList[i]);\n      }\n      prevYMD = currYMD;\n    }\n    return result;\n  };\n  const navigateToChatPosition = (message: IMessageModel) => {\n    if (props.searchType === \"global\") {\n      // 全局搜索，关闭 search container\n      TUIStore.update(StoreName.CUSTOM, \"currentSearchingStatus\", {\n        isSearching: false,\n        searchType: props.searchType\n      });\n      // 切换会话\n      TUIConversationService.switchConversation(message?.conversationID).then(() => {\n        TUIStore.update(StoreName.CHAT, \"messageSource\", message);\n      });\n    } else if (props.searchType === \"conversation\") {\n      // 会话内搜索，关闭 search container\n      TUIStore.update(StoreName.CUSTOM, \"isShowInConversationSearch\", false);\n      TUIStore.update(StoreName.CHAT, \"messageSource\", message);\n    }\n  };\n  const generateVueRenderKey = (value: string): string => {\n    return `${currentSearchTabKey}-${value}`;\n  };\n  return {\n    TUITranslateService,\n    searchMessageTypeList,\n    searchIcon,\n    enterIcon,\n    enterConversation,\n    isPC,\n    props,\n    keywordList,\n    currentSearchTabKey,\n    searchResult,\n    currentSearchConversationID,\n    searchConversationResult,\n    searchConversationMessageList,\n    searchConversationMessageTotalCount,\n    searchConversationResultGroupByDate,\n    isResultDetailShow,\n    isLoading,\n    isSearchDetailLoading,\n    isSearchDefaultShow,\n    getMoreResult,\n    getMoreResultInConversation,\n    showResultDetail,\n    generateListItemClass,\n    generateResultItemDisplayType,\n    navigateToChatPosition,\n    generateVueRenderKey\n  };\n};\n__sfc_main.components = Object.assign({\n  SearchResultLoading,\n  SearchResultDefault,\n  SearchResultItem,\n  Icon\n}, __sfc_main.components);\nexport default __sfc_main;\n"],"sourceRoot":""}