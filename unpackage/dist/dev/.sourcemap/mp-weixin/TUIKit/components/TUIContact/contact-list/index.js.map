{"version":3,"sources":["webpack:///D:/sign/familySign/TUIKit/components/TUIContact/contact-list/index.vue?2c29","webpack:///D:/sign/familySign/TUIKit/components/TUIContact/contact-list/index.vue?0136","webpack:///D:/sign/familySign/TUIKit/components/TUIContact/contact-list/index.vue?a4f4","webpack:///D:/sign/familySign/TUIKit/components/TUIContact/contact-list/index.vue?68d4","uni-app:///TUIKit/components/TUIContact/contact-list/index.vue?vue&type=script&lang=ts&"],"names":["__sfc_main","setup","__props","__ctx","currentContactListKey","currentContactInfo","contactListMap","friendApplicationList","key","title","list","unreadCount","blackList","groupList","friendList","contactSearchingStatus","contactSearchResult","isContactSearchNoResult","value","user","group","tuiContactExtensionList","TUICore","getExtensionList","TUIConstants","TUIContact","EXTENSION","CONTACT_LIST","EXT_ID","length","customerData","find","extension","data","name","accountList","text","TUIUserService","getUserProfile","userIDList","then","res","customerList","map","item","infoKeyList","btnKeyList","Object","assign","updateCurrentContactInfoFromList","type","userID","groupID","TUIStore","update","StoreName","CUSTOM","watch","GRP","USER","userBlacklist","FRIEND","friendApplicationUnreadCount","currentContactSearchingStatus","searchingStatus","currentContactSearchResult","searchResult","toggleCurrentContactList","TUIFriendService","setFriendApplicationRead","selectItem","targetListItem","TUITranslateService","downSVG","rightSVG","components","Icon","ContactListItem"],"mappings":"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","file":"TUIKit/components/TUIContact/contact-list/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=84a2d2e2&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./style/index.scss?vue&type=style&index=0&id=84a2d2e2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"84a2d2e2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"TUIKit/components/TUIContact/contact-list/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=template&id=84a2d2e2&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = !_vm.contactSearchingStatus\n    ? _vm.__map(_vm.contactListMap, function (item, key) {\n        var $orig = _vm.__get_orig(item)\n        var g0 = _vm.TUITranslateService.t(\"TUIContact.\" + item.title)\n        return {\n          $orig: $orig,\n          g0: g0,\n        }\n      })\n    : null\n  var l1 = !!_vm.contactSearchingStatus\n    ? _vm.__map(_vm.contactSearchResult, function (item, key) {\n        var $orig = _vm.__get_orig(item)\n        var g1 = item.list[0]\n          ? _vm.TUITranslateService.t(\"TUIContact.\" + item.label)\n          : null\n        return {\n          $orig: $orig,\n          g1: g1,\n        }\n      })\n    : null\n  var g2 =\n    !!_vm.contactSearchingStatus && _vm.isContactSearchNoResult\n      ? _vm.TUITranslateService.t(\"TUIContact.无搜索结果\")\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--14-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--14-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { TUITranslateService, TUIStore, StoreName, IGroupModel, TUIFriendService, Friend, FriendApplication, TUIUserService } from \"@tencentcloud/chat-uikit-engine\";\nimport TUICore, { TUIConstants } from \"@tencentcloud/tui-core\";\nimport { ref, computed, onMounted } from \"../../../adapter-vue\";\nimport Icon from \"../../common/Icon.vue\";\nimport downSVG from \"../../../assets/icon/down-icon.svg\";\nimport rightSVG from \"../../../assets/icon/right-icon.svg\";\nimport { IContactList, IContactSearchResult, IBlackListUserItem } from \"../../../interface\";\nimport ContactListItem from \"./contact-list-item/index.vue\";\nconst __sfc_main = {};\n__sfc_main.setup = (__props, __ctx) => {\n  const currentContactListKey = ref<string>(\"\");\n  const currentContactInfo = ref<any>({});\n  const contactListMap = ref<IContactList>({\n    friendApplicationList: {\n      key: 'friendApplicationList',\n      title: \"新的联系人\",\n      list: ([] as Array<FriendApplication>),\n      unreadCount: 0\n    },\n    blackList: {\n      key: 'blackList',\n      title: \"黑名单\",\n      list: ([] as Array<IBlackListUserItem>)\n    },\n    groupList: {\n      key: 'groupList',\n      title: \"我的群聊\",\n      list: ([] as Array<IGroupModel>)\n    },\n    friendList: {\n      key: 'friendList',\n      title: \"我的好友\",\n      list: ([] as Array<Friend>)\n    }\n  });\n  const contactSearchingStatus = ref<boolean>(false);\n  const contactSearchResult = ref<IContactSearchResult>();\n  const isContactSearchNoResult = computed((): boolean => {\n    return !contactSearchResult?.value?.user?.list[0] && !contactSearchResult?.value?.group?.list[0];\n  });\n  const tuiContactExtensionList = TUICore.getExtensionList(TUIConstants.TUIContact.EXTENSION.CONTACT_LIST.EXT_ID);\n  onMounted(() => {\n    if (tuiContactExtensionList.length > 0) {\n      const customerData = tuiContactExtensionList.find((extension: any) => {\n        const {\n          name,\n          accountList = []\n        } = extension.data || {};\n        return name === 'customer' && accountList.length > 0;\n      });\n      if (customerData) {\n        const {\n          data: {\n            accountList\n          },\n          text\n        } = customerData;\n        TUIUserService.getUserProfile({\n          userIDList: accountList\n        }).then((res: any) => {\n          if (res.data.length > 0) {\n            const customerList = {\n              title: text,\n              list: res.data.map((item: any) => {\n                return {\n                  ...item,\n                  infoKeyList: [],\n                  btnKeyList: [\"enterC2CConversation\"]\n                };\n              })\n            };\n            contactListMap.value = Object.assign({}, contactListMap.value, {\n              customerList\n            });\n          }\n        });\n      }\n    }\n  });\n  const updateCurrentContactInfoFromList = (list: Array<any>, type: string) => {\n    if (!currentContactInfo?.value?.userID && !currentContactInfo?.value?.groupID) {\n      return;\n    } else if (currentContactInfo?.value?.groupID && (type === currentContactListKey.value || contactSearchingStatus.value)) {\n      currentContactInfo.value = list?.find((item: any) => item?.groupID && item?.groupID === currentContactInfo?.value?.groupID);\n      TUIStore.update(StoreName.CUSTOM, \"currentContactInfo\", currentContactInfo.value);\n    } else if (currentContactInfo?.value?.userID && (type === currentContactListKey.value || contactSearchingStatus.value)) {\n      currentContactInfo.value = list?.find((item: any) => item?.userID && item?.userID === currentContactInfo?.value?.userID);\n      TUIStore.update(StoreName.CUSTOM, \"currentContactInfo\", currentContactInfo.value);\n    }\n  };\n  TUIStore.watch(StoreName.GRP, {\n    groupList: (groupList: Array<IGroupModel>) => {\n      contactListMap.value.groupList.list = groupList;\n      updateCurrentContactInfoFromList(contactListMap.value.groupList.list, \"groupList\");\n    }\n  });\n  TUIStore.watch(StoreName.USER, {\n    userBlacklist: (userBlacklist: Array<IBlackListUserItem>) => {\n      contactListMap.value.blackList.list = userBlacklist;\n      updateCurrentContactInfoFromList(contactListMap.value.blackList.list, \"blackList\");\n    }\n  });\n  TUIStore.watch(StoreName.FRIEND, {\n    friendList: (friendList: Array<Friend>) => {\n      contactListMap.value.friendList.list = friendList;\n      updateCurrentContactInfoFromList(contactListMap.value.friendList.list, \"friendList\");\n    },\n    friendApplicationList: (friendApplicationList: Array<FriendApplication>) => {\n      contactListMap.value.friendApplicationList.list = friendApplicationList;\n      updateCurrentContactInfoFromList(contactListMap.value.friendApplicationList.list, \"friendApplicationList\");\n    },\n    friendApplicationUnreadCount: (friendApplicationUnreadCount: number) => {\n      contactListMap.value.friendApplicationList.unreadCount = friendApplicationUnreadCount;\n    }\n  });\n  TUIStore.watch(StoreName.CUSTOM, {\n    currentContactSearchingStatus: (searchingStatus: boolean) => {\n      contactSearchingStatus.value = searchingStatus;\n      currentContactInfo.value = {};\n      currentContactListKey.value = \"\";\n      TUIStore.update(StoreName.CUSTOM, \"currentContactInfo\", currentContactInfo.value);\n    },\n    currentContactSearchResult: (searchResult: IContactSearchResult) => {\n      contactSearchResult.value = searchResult;\n    }\n  });\n  const toggleCurrentContactList = (key: string) => {\n    if (currentContactListKey.value === key) {\n      currentContactListKey.value = \"\";\n      currentContactInfo.value = {};\n      TUIStore.update(StoreName.CUSTOM, \"currentContactInfo\", currentContactInfo.value);\n    } else {\n      currentContactListKey.value = key;\n      if (key === \"friendApplicationList\") {\n        TUIFriendService.setFriendApplicationRead();\n      }\n    }\n  };\n  const selectItem = (item: any) => {\n    currentContactInfo.value = item;\n    // 单独处理：\n    // 对于 搜索列表 中 某结果，查看 contactInfo 详情前，需要对于“已在群组列表/已在好友列表” 的情况进行数据更新，已获得更详细的信息\n    if (contactSearchingStatus.value) {\n      let targetListItem;\n      if (currentContactInfo?.value?.userID) {\n        targetListItem = contactListMap?.value?.friendList?.list?.find((item: any) => item?.userID === currentContactInfo?.value?.userID);\n      } else if (currentContactInfo?.value?.groupID) {\n        targetListItem = contactListMap?.value?.groupList?.list?.find((item: any) => item?.groupID === currentContactInfo?.value?.groupID);\n      }\n      if (targetListItem) {\n        currentContactInfo.value = targetListItem;\n      }\n    }\n    // 更新数据\n    TUIStore.update(StoreName.CUSTOM, \"currentContactInfo\", currentContactInfo.value);\n  };\n  return {\n    TUITranslateService,\n    downSVG,\n    rightSVG,\n    currentContactListKey,\n    contactListMap,\n    contactSearchingStatus,\n    contactSearchResult,\n    isContactSearchNoResult,\n    toggleCurrentContactList,\n    selectItem\n  };\n};\n__sfc_main.components = Object.assign({\n  Icon,\n  ContactListItem\n}, __sfc_main.components);\nexport default __sfc_main;\n"],"sourceRoot":""}