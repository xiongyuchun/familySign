{"version":3,"sources":["webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/message-elements/message-file.vue?9afa","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/message-elements/message-file.vue?4247","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/message-elements/message-file.vue?7f36","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/message-elements/message-file.vue?0533","uni-app:///TUIKit/components/TUIChat/message-list/message-elements/message-file.vue?vue&type=script&lang=ts&","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/message-elements/message-file.vue?9b8c","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/message-elements/message-file.vue?7dbe"],"names":["__sfc_main","props","content","key","required","type","default","messageItem","setup","__props","__ctx","download","hasRiskContent","option","mode","headers","Headers","window","fetch","url","then","res","blob","a","document","createElement","URL","createObjectURL","href","name","click","target","TUITranslateService","files","components","Object","assign","Icon"],"mappings":"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","file":"TUIKit/components/TUIChat/message-list/message-elements/message-file.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./message-file.vue?vue&type=template&id=04a72044&scoped=true&\"\nvar renderjs\nimport script from \"./message-file.vue?vue&type=script&lang=ts&\"\nexport * from \"./message-file.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./message-file.vue?vue&type=style&index=0&id=04a72044&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a72044\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"TUIKit/components/TUIChat/message-list/message-elements/message-file.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./message-file.vue?vue&type=template&id=04a72044&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.TUITranslateService.t(\"TUIChat.单击下载\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--14-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./message-file.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--14-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./message-file.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { withDefaults } from \"../../../../adapter-vue\";\nimport { TUITranslateService, IMessageModel } from \"@tencentcloud/chat-uikit-engine\";\nimport Icon from \"../../../common/Icon.vue\";\nimport files from \"../../../../assets/icon/files.png\";\nimport type { IFileMessageContent } from \"../../../../interface\";\nimport { isPC } from \"../../../../utils/env\";\nconst __sfc_main = {};\n__sfc_main.props = {\n  content: {\n    key: \"content\",\n    required: false,\n    type: null,\n    default: () => ({} as IFileMessageContent)\n  },\n  messageItem: {\n    key: \"messageItem\",\n    required: false,\n    type: null,\n    default: () => ({} as IMessageModel)\n  }\n};\n__sfc_main.setup = (__props, __ctx) => {\n  const props = __props;\n\n  // todo: 区分 web 和 uniapp\n  const download = () => {\n    if (props.messageItem.hasRiskContent) {\n      return;\n    }\n    const option = ({\n      mode: \"cors\",\n      headers: new Headers({\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      })\n    } as RequestInit);\n    // 浏览器支持fetch则用blob下载，避免浏览器点击a标签，跳转到新页面预览的行为\n    // If the browser supports fetch, use blob to download, so as to avoid the browser clicking the a tag and jumping to the preview of the new page\n    if ((window as any)?.fetch) {\n      fetch(props.content.url, option).then(res => res.blob()).then(blob => {\n        const a = document.createElement(\"a\");\n        const url = window.URL.createObjectURL(blob);\n        a.href = url;\n        a.download = props.content.name;\n        a.click();\n      });\n    } else {\n      const a = document.createElement(\"a\");\n      a.href = props.content.url;\n      a.target = \"_blank\";\n      a.download = props.content.name;\n      a.click();\n    }\n  };\n  return {\n    TUITranslateService,\n    files,\n    props,\n    download\n  };\n};\n__sfc_main.components = Object.assign({\n  Icon\n}, __sfc_main.components);\nexport default __sfc_main;\n","import mod from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./message-file.vue?vue&type=style&index=0&id=04a72044&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./message-file.vue?vue&type=style&index=0&id=04a72044&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1716384824150\n      var cssReload = require(\"E:/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}