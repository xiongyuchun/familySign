{"version":3,"sources":["webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/read-receipt-panel/index.vue?4ab3","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/read-receipt-panel/index.vue?6b9f","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/read-receipt-panel/index.vue?4537","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/read-receipt-panel/index.vue?c006","uni-app:///TUIKit/components/TUIChat/message-list/read-receipt-panel/index.vue?vue&type=script&lang=ts&","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/read-receipt-panel/index.vue?16c2","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-list/read-receipt-panel/index.vue?9ce1"],"names":["__sfc_main","props","message","key","required","type","default","setup","__props","__ctx","emits","emit","lastUnreadCursor","lastReadCursor","tabNameList","isListFetchCompleted","unread","read","close","isPullDownFetching","isPanelClose","isFirstLoadFinished","isStopFetchMore","currentTabName","tabInfo","generateInitalTabInfo","initAndRefetchReceiptInfomation","value","readReceiptInfo","readCount","fetchGroupMessageRecriptMemberListByType","readType","TUIStore","getMessageModel","ID","unreadResult","readResult","TUIChatService","getGroupMessageReadMemberList","filter","cursor","count","data","isCompleted","totalUnreadCount","unreadCount","totalReadCount","pullDownFetchMoreData","checkStopFetchMore","memberList","concat","unreadUserInfoList","readUserInfoList","resetTabInfo","tabName","TUITranslateService","t","undefined","toggleTabName","closeReadReciptPanel","setTimeout","closeIcon","isMobile","components","Object","assign","Overlay","Icon","Avatar","FetchMore"],"mappings":"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","file":"TUIKit/components/TUIChat/message-list/read-receipt-panel/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=098d3921&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=098d3921&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"098d3921\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"TUIKit/components/TUIChat/message-list/read-receipt-panel/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=template&id=098d3921&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.TUITranslateService.t(\"TUIChat.消息详情\")\n  var g1 =\n    _vm.tabInfo[_vm.currentTabName].count === 0 && _vm.isFirstLoadFinished\n      ? _vm.TUITranslateService.t(\"TUIChat.空\")\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--14-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--14-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ref, onMounted, watch, nextTick } from \"../../../../adapter-vue\";\nimport { IMessageModel, TUIStore, TUIChatService, TUITranslateService } from \"@tencentcloud/chat-uikit-engine\";\nimport closeIcon from \"../../../../assets/icon/icon-close.svg\";\nimport Icon from \"../../../common/Icon.vue\";\nimport Overlay from \"../../../common/Overlay/index.vue\";\nimport Avatar from \"../../../common/Avatar/index.vue\";\nimport FetchMore from \"../../../common/FetchMore/index.vue\";\nimport type { IGroupMessageReadMemberData, IMemberData, ITabInfo, TabName } from \"./interface\";\nimport { isMobile } from \"../../../../utils/env\";\ntype ReadType = 'unread' | 'read' | 'all';\ninterface IProps {\n  message: IMessageModel;\n}\ninterface IEmits {\n  (ket: \"setReadReciptPanelVisible\", visible: boolean, message?: IMessageModel): void;\n}\nconst __sfc_main = {};\n__sfc_main.props = {\n  message: {\n    key: \"message\",\n    required: false,\n    type: null,\n    default: () => ({} as IMessageModel)\n  }\n};\n__sfc_main.setup = (__props, __ctx) => {\n  const emits = __ctx.emit;\n  const props = __props;\n  let lastUnreadCursor: string = \"\";\n  let lastReadCursor: string = \"\";\n  const tabNameList: TabName[] = ['unread', 'read'];\n  const isListFetchCompleted: Record<TabName, boolean> = {\n    unread: false,\n    read: false,\n    close: false\n  };\n  const isPullDownFetching = ref<boolean>(false);\n  const isPanelClose = ref<boolean>(false);\n  const isFirstLoadFinished = ref<boolean>(false);\n  const isStopFetchMore = ref<boolean>(false);\n  const currentTabName = ref<TabName>('unread');\n  const tabInfo = ref<ITabInfo>(generateInitalTabInfo());\n  onMounted(async () => {\n    await initAndRefetchReceiptInfomation();\n    nextTick(() => {\n      isFirstLoadFinished.value = true;\n    });\n  });\n  watch(\n  // uniapp下监听不到数据变化\n  () => props.message.readReceiptInfo.readCount, () => {\n    initAndRefetchReceiptInfomation();\n  });\n  async function fetchGroupMessageRecriptMemberListByType(readType: ReadType = 'all') {\n    const message = TUIStore.getMessageModel(props.message.ID);\n    let unreadResult = ({} as IGroupMessageReadMemberData);\n    let readResult = ({} as IGroupMessageReadMemberData);\n    if (readType === 'all' || readType === 'unread') {\n      unreadResult = await TUIChatService.getGroupMessageReadMemberList({\n        message,\n        filter: 1,\n        cursor: lastUnreadCursor,\n        count: 100\n      });\n      if (unreadResult) {\n        lastUnreadCursor = unreadResult.data.cursor;\n        if (unreadResult.data.isCompleted) {\n          isListFetchCompleted.unread = true;\n        }\n      }\n    }\n    if (readType === 'all' || readType === 'read') {\n      readResult = await TUIChatService.getGroupMessageReadMemberList({\n        message,\n        filter: 0,\n        cursor: lastReadCursor,\n        count: 100\n      });\n      if (readResult) {\n        lastReadCursor = readResult.data.cursor;\n        if (readResult.data.isCompleted) {\n          isListFetchCompleted.read = true;\n        }\n      }\n    }\n\n    // Fetch the total number of read and unread users\n    const {\n      unreadCount: totalUnreadCount,\n      readCount: totalReadCount\n    } = message.readReceiptInfo;\n    return {\n      unreadResult: {\n        count: totalUnreadCount,\n        ...unreadResult.data\n      },\n      readResult: {\n        count: totalReadCount,\n        ...readResult.data\n      }\n    };\n  }\n  async function pullDownFetchMoreData() {\n    /**\n     * 使用 isPullDownFetching 控制 FetchMore 组件的状态\n     * 顺便同时做 uniapp 下的 intersectionObserver 的加锁\n     * 因为 uniapp 下 没有 isIntersecting 无法判断被观察的元素进入还是退出观察区\n     */\n    if (isListFetchCompleted[currentTabName.value] || isPullDownFetching.value) {\n      return;\n    }\n    isPullDownFetching.value = true;\n    const {\n      unreadResult,\n      readResult\n    } = await fetchGroupMessageRecriptMemberListByType(currentTabName.value);\n    checkStopFetchMore();\n    try {\n      tabInfo.value.unread.memberList = tabInfo.value.unread.memberList.concat(unreadResult.unreadUserInfoList || []);\n      tabInfo.value.read.memberList = tabInfo.value.read.memberList.concat(readResult.readUserInfoList || []);\n    } finally {\n      isPullDownFetching.value = false;\n    }\n  }\n\n  /**\n   * Initializes and refetches receipt information.\n   *\n   * @return {Promise<void>} A promise that resolves when the function has completed.\n   */\n  async function initAndRefetchReceiptInfomation(): Promise<void> {\n    lastUnreadCursor = \"\";\n    lastReadCursor = \"\";\n    isStopFetchMore.value = false;\n    isListFetchCompleted.unread = false;\n    isListFetchCompleted.read = false;\n    const {\n      unreadResult,\n      readResult\n    } = await fetchGroupMessageRecriptMemberListByType('all');\n    checkStopFetchMore();\n    resetTabInfo('read', readResult.count, readResult.readUserInfoList);\n    resetTabInfo('unread', unreadResult.count, unreadResult.unreadUserInfoList);\n    resetTabInfo('close');\n  }\n\n  /**\n   * Checks if the fetch more operation should be stopped\n   * by IntersetctionObserver.disconnect().\n   *\n   * @return {void} \n   */\n  function checkStopFetchMore(): void {\n    if (isListFetchCompleted.read && isListFetchCompleted.unread) {\n      isStopFetchMore.value = true;\n    }\n  }\n\n  /**\n   * Resets the information of a specific tab.\n   *\n   * @param {TabName} tabName - The name of the tab to reset.\n   * @param {number} [count] - The count to assign to the tab. Optional.\n   * @param {IMemberData[]} [memberList] - The list of members to assign to the tab. Optional.\n   * @return {void} - This function does not return anything.\n   */\n  function resetTabInfo(tabName: TabName, count?: number, memberList?: IMemberData[]): void {\n    tabInfo.value[tabName].count = count;\n    tabInfo.value[tabName].memberList = memberList || [];\n  }\n\n  /**\n   * Generates the initial tab information.\n   *\n   * @return {ITabInfo} The initial tab information.\n   */\n  function generateInitalTabInfo(): ITabInfo {\n    return {\n      read: {\n        tabName: TUITranslateService.t(\"TUIChat.已读\"),\n        count: undefined,\n        memberList: []\n      },\n      unread: {\n        tabName: TUITranslateService.t(\"TUIChat.未读\"),\n        count: undefined,\n        memberList: []\n      },\n      close: {\n        tabName: TUITranslateService.t(\"TUIChat.关闭\"),\n        count: undefined,\n        memberList: []\n      }\n    };\n  }\n\n  /**\n   * Toggles the tab name.\n   *\n   * @param {TabName} tabName - The name of the tab to toggle.\n   * @return {void} This function does not return anything.\n   */\n  function toggleTabName(tabName: TabName): void {\n    currentTabName.value = tabName;\n  }\n  function closeReadReciptPanel(): void {\n    isPanelClose.value = true;\n    setTimeout(() => {\n      emits(\"setReadReciptPanelVisible\", false);\n    }, 200);\n  }\n  return {\n    TUITranslateService,\n    closeIcon,\n    isMobile,\n    tabNameList,\n    isPullDownFetching,\n    isPanelClose,\n    isFirstLoadFinished,\n    isStopFetchMore,\n    currentTabName,\n    tabInfo,\n    pullDownFetchMoreData,\n    toggleTabName,\n    closeReadReciptPanel\n  };\n};\n__sfc_main.components = Object.assign({\n  Overlay,\n  Icon,\n  Avatar,\n  FetchMore\n}, __sfc_main.components);\nexport default __sfc_main;\n","import mod from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=style&index=0&id=098d3921&scoped=true&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=style&index=0&id=098d3921&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1716384823893\n      var cssReload = require(\"E:/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}