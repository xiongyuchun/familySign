{"version":3,"sources":["webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-input-toolbar/user-selector/index.vue?b60a","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-input-toolbar/user-selector/index.vue?4cb2","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-input-toolbar/user-selector/index.vue?774e","webpack:///D:/sign/familySign/TUIKit/components/TUIChat/message-input-toolbar/user-selector/index.vue?39a0","uni-app:///TUIKit/components/TUIChat/message-input-toolbar/user-selector/index.vue?vue&type=script&lang=ts&"],"names":["__sfc_main","props","type","String","default","currentConversation","Object","isGroup","Boolean","setup","__props","__ctx","emits","emit","show","groupID","memberList","searchMemberList","selfUserID","titleMap","voiceCall","videoCall","title","TUIUserService","getUserProfile","then","res","data","userID","value","conversationID","newVal","oldVal","groupProfile","TUIGroupService","getGroupMemberList","filter","user","immediate","search","searchInfo","results","member","length","submit","selectedMemberList","userIDList","forEach","push","toggleShow","cancel","showStatus","assign","isPC","components","Dialog","Transfer"],"mappings":"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","file":"TUIKit/components/TUIChat/message-input-toolbar/user-selector/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=09a3d062&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09a3d062\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"TUIKit/components/TUIChat/message-input-toolbar/user-selector/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=template&id=09a3d062&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--14-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\ts-loader\\\\index.js??ref--14-1!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--14-2!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!../../../../../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue2-script-setup!./index.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { TUIGroupService, TUIUserService } from \"@tencentcloud/chat-uikit-engine\";\nimport { ref, computed, watch } from \"../../../../adapter-vue\";\nimport Dialog from \"../../../common/Dialog/index.vue\";\nimport Transfer from \"../../../common/Transfer/index.vue\";\nimport { isPC } from \"../../../../utils/env\";\nconst __sfc_main = {};\n__sfc_main.props = {\n  // 类型: voiceCall/groupCall/...\n  type: {\n    type: String,\n    default: \"\"\n  },\n  currentConversation: {\n    type: Object,\n    default: {}\n  },\n  isGroup: {\n    type: Boolean,\n    default: false\n  }\n};\n__sfc_main.setup = (__props, __ctx) => {\n  const props = __props;\n  const emits = __ctx.emit;\n  const show = ref<boolean>(false);\n  const groupID = ref<string>(\"\");\n  const memberList = ref<Array<any>>([]);\n  const searchMemberList = ref<Array<any>>([]);\n  const selfUserID = ref<string>(\"\");\n  const titleMap: any = {\n    voiceCall: \"发起群语音\",\n    videoCall: \"发起群视频\"\n  };\n  const title = computed(() => {\n    return titleMap[props.type] ? titleMap[props.type] : \"\";\n  });\n  TUIUserService.getUserProfile().then((res: any) => {\n    if (res?.data?.userID) {\n      selfUserID.value = res.data.userID;\n    }\n  });\n  watch(() => [props?.currentConversation?.conversationID, show.value], (newVal: any, oldVal: any) => {\n    if (newVal && newVal !== oldVal) {\n      if (props.isGroup && show.value) {\n        groupID.value = props.currentConversation.groupProfile.groupID;\n        TUIGroupService.getGroupMemberList({\n          groupID: groupID.value\n        }).then((res: any) => {\n          memberList.value = res?.data?.memberList?.filter((user: any) => user?.userID !== selfUserID.value);\n          searchMemberList.value = memberList.value;\n        });\n      } else {\n        groupID.value = \"\";\n        memberList.value = [];\n        searchMemberList.value = memberList.value;\n      }\n    }\n  }, {\n    immediate: true\n  });\n  const search = (searchInfo: string) => {\n    const results = memberList.value?.filter((member: any) => member?.userID === searchInfo);\n    searchMemberList.value = results?.length ? results : memberList.value;\n  };\n  const submit = (selectedMemberList: Array<string>) => {\n    const userIDList: Array<string> = [];\n    selectedMemberList?.forEach((user: any) => {\n      user?.userID && userIDList.push(user.userID);\n    });\n    if (props.type === \"voiceCall\") {\n      emits(\"submit\", {\n        userIDList,\n        groupID: groupID.value,\n        type: 1\n      });\n    } else if (props.type === \"videoCall\") {\n      emits(\"submit\", {\n        userIDList,\n        groupID: groupID.value,\n        type: 2\n      });\n    }\n    searchMemberList.value = memberList.value;\n    toggleShow(false);\n  };\n  const cancel = () => {\n    searchMemberList.value = memberList.value;\n    emits(\"cancel\");\n    toggleShow(false);\n  };\n  const toggleShow = (showStatus: boolean) => {\n    show.value = showStatus;\n  };\n  return Object.assign({\n    isPC,\n    show,\n    searchMemberList,\n    title,\n    search,\n    submit,\n    cancel,\n    toggleShow\n  }, {\n    toggleShow\n  });\n};\n__sfc_main.components = Object.assign({\n  Dialog,\n  Transfer\n}, __sfc_main.components);\nexport default __sfc_main;\n"],"sourceRoot":""}